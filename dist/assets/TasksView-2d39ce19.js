import{u as z}from"./useconfirm.esm-821a6f7e.js";import{C as B,d as G,r as n,c as K,v as Q,a as T,b as t,t as d,e as l,f as a,w as r,F as W,h as X,o as V,m as D,k as y,s as c,z as Y,D as C,i as S,j as Z,E as ee,l as te,x as se,n as k,q as le,G as ae,_ as ie}from"./index-6a6a99e0.js";import{s as oe}from"./calendar.esm-8470a1bf.js";import{s as ne}from"./textarea.esm-9d24ae2a.js";import"./index.esm-8aa1b236.js";var de=Symbol();function re(){var b=B(de);if(!b)throw new Error("No PrimeVue Toast provided!");return b}const ue={class:"grid"},ce={class:"col-12 md:col-6 lg:col-3"},pe={class:"surface-card p-4 border-round shadow-1"},me={class:"flex justify-content-between mb-3"},ve={class:"text-900 font-medium text-xl"},fe={class:"text-green-500 font-medium"},ge={class:"col-12 md:col-6 lg:col-3"},ye={class:"surface-card p-4 border-round shadow-1"},be={class:"flex justify-content-between mb-3"},xe={class:"text-900 font-medium text-xl"},he={class:"col-12 md:col-6 lg:col-3"},we={class:"surface-card p-4 border-round shadow-1"},ke={class:"flex justify-content-between mb-3"},_e={class:"text-900 font-medium text-xl"},Te={class:"col-12 md:col-6 lg:col-3"},Ve={class:"surface-card p-4 border-round shadow-1"},De={class:"flex justify-content-between mb-3"},Ce={class:"text-900 font-medium text-xl"},Se={class:"text-{{ stats.completionTrend > 0 ? 'green' : 'red' }}-500 font-medium"},Le={class:"col-12"},Pe={class:"surface-card p-4 border-round shadow-1"},Ne={class:"flex justify-content-between align-items-center mb-5"},je={class:"flex gap-2"},Ue={class:"p-input-icon-left"},$e={class:"flex align-items-center gap-2"},Me={class:"flex align-items-center gap-2"},Re={class:"flex gap-2"},He={class:"field"},Ie={key:0,class:"p-error"},qe={class:"field"},Fe={class:"formgrid grid"},Je={class:"field col"},Oe={class:"field col"},Ae={class:"formgrid grid"},Ee={class:"field col"},ze={class:"field col"},Be=G({__name:"TasksView",setup(b){const L=z(),x=re(),p=n({total:45,completed:32,overdue:5,dueToday:8,completionRate:71,completionTrend:5}),u=n([{id:1,title:"Follow up with client",description:"Schedule a call to discuss proposal",priority:"High",status:"In Progress",dueDate:new Date("2025-01-28"),assignee:"John Doe",completed:!1},{id:2,title:"Prepare presentation",description:"Create slides for next week's meeting",priority:"Medium",status:"Not Started",dueDate:new Date("2025-01-29"),assignee:"Jane Smith",completed:!1}]),P=n(!1),m=n(!1),h=n("new"),f=n(!1),_=n([]),g=n({search:"",global:{value:null,matchMode:"contains"}}),i=n({id:null,title:"",description:"",priority:null,status:null,dueDate:null,assignee:null,completed:!1}),N=[{label:"High",value:"High"},{label:"Medium",value:"Medium"},{label:"Low",value:"Low"}],j=[{label:"Not Started",value:"Not Started"},{label:"In Progress",value:"In Progress"},{label:"Completed",value:"Completed"},{label:"On Hold",value:"On Hold"}],U=[{name:"John Doe"},{name:"Jane Smith"},{name:"Mike Johnson"}],$=K(()=>{if(!g.value.search)return u.value;const o=g.value.search.toLowerCase();return u.value.filter(e=>{var v;return e.title.toLowerCase().includes(o)||((v=e.description)==null?void 0:v.toLowerCase().includes(o))||e.assignee.toLowerCase().includes(o)})}),M=()=>{i.value={id:null,title:"",description:"",priority:null,status:"Not Started",dueDate:null,assignee:null,completed:!1},f.value=!1,m.value=!0,h.value="new"},R=o=>{i.value={...o},m.value=!0,h.value="edit"},H=()=>{m.value=!1,f.value=!1},I=()=>{var o;if(f.value=!0,!!((o=i.value.title)!=null&&o.trim())){if(i.value.id){const e=u.value.findIndex(v=>v.id===i.value.id);u.value[e]=i.value,x.add({severity:"success",summary:"Success",detail:"Task Updated",life:3e3})}else i.value.id=u.value.length+1,u.value.push(i.value),x.add({severity:"success",summary:"Success",detail:"Task Created",life:3e3});m.value=!1,i.value={id:null,title:"",description:"",priority:null,status:null,dueDate:null,assignee:null,completed:!1}}},q=o=>{L.require({message:"Are you sure you want to delete this task?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>F(o)})},F=o=>{u.value=u.value.filter(e=>e.id!==o.id),x.add({severity:"success",summary:"Success",detail:"Task Deleted",life:3e3})},J=o=>ae.fromJSDate(o).toFormat("dd LLL yyyy"),O=o=>o.split(" ").map(e=>e[0]).join(""),A=o=>({High:"danger",Medium:"warning",Low:"success"})[o],E=o=>({"Not Started":"secondary","In Progress":"info",Completed:"success","On Hold":"warning"})[o];return Q(()=>{}),(o,e)=>{const v=X("ConfirmDialog");return V(),T(W,null,[t("div",ue,[t("div",ce,[t("div",pe,[t("div",me,[t("div",null,[e[9]||(e[9]=t("span",{class:"block text-500 font-medium mb-3"},"Total Tasks",-1)),t("div",ve,d(p.value.total),1)]),e[10]||(e[10]=t("div",{class:"flex align-items-center justify-content-center bg-blue-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-check-square text-blue-500 text-xl"})],-1))]),t("span",fe,d(p.value.completed)+" completed ",1),e[11]||(e[11]=t("span",{class:"text-500"},"this week",-1))])]),t("div",ge,[t("div",ye,[t("div",be,[t("div",null,[e[12]||(e[12]=t("span",{class:"block text-500 font-medium mb-3"},"Overdue",-1)),t("div",xe,d(p.value.overdue),1)]),e[13]||(e[13]=t("div",{class:"flex align-items-center justify-content-center bg-orange-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-exclamation-triangle text-orange-500 text-xl"})],-1))]),e[14]||(e[14]=t("span",{class:"text-500"},"Requires immediate attention",-1))])]),t("div",he,[t("div",we,[t("div",ke,[t("div",null,[e[15]||(e[15]=t("span",{class:"block text-500 font-medium mb-3"},"Due Today",-1)),t("div",_e,d(p.value.dueToday),1)]),e[16]||(e[16]=t("div",{class:"flex align-items-center justify-content-center bg-cyan-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-clock text-cyan-500 text-xl"})],-1))]),e[17]||(e[17]=t("span",{class:"text-500"},"Tasks due in the next 24h",-1))])]),t("div",Te,[t("div",Ve,[t("div",De,[t("div",null,[e[18]||(e[18]=t("span",{class:"block text-500 font-medium mb-3"},"Completion Rate",-1)),t("div",Ce,d(p.value.completionRate)+"%",1)]),e[19]||(e[19]=t("div",{class:"flex align-items-center justify-content-center bg-purple-100 border-round",style:{width:"2.5rem",height:"2.5rem"}},[t("i",{class:"pi pi-chart-line text-purple-500 text-xl"})],-1))]),t("span",Se,d(Math.abs(p.value.completionTrend))+"% ",1),e[20]||(e[20]=t("span",{class:"text-500"},"vs last week",-1))])]),t("div",Le,[t("div",Pe,[t("div",Ne,[e[22]||(e[22]=t("h3",null,"Tasks",-1)),t("div",je,[t("span",Ue,[e[21]||(e[21]=t("i",{class:"pi pi-search"},null,-1)),l(a(D),{modelValue:g.value.search,"onUpdate:modelValue":e[0]||(e[0]=s=>g.value.search=s),placeholder:"Search tasks..."},null,8,["modelValue"])]),l(a(y),{label:"New Task",icon:"pi pi-plus",onClick:M})])]),l(a(te),{value:$.value,selection:_.value,"onUpdate:selection":e[1]||(e[1]=s=>_.value=s),paginator:!0,rows:10,dataKey:"id",filters:g.value,filterDisplay:"menu",loading:P.value,rowsPerPageOptions:[5,10,20,50],paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",responsiveLayout:"scroll",currentPageReportTemplate:"Showing {first} to {last} of {totalRecords} tasks",class:"p-datatable-sm"},{default:r(()=>[l(a(c),{selectionMode:"multiple",headerStyle:"width: 3rem"}),l(a(c),{field:"title",header:"Task",style:{"min-width":"200px"}},{body:r(s=>[t("div",$e,[l(a(Y),{modelValue:s.data.completed,"onUpdate:modelValue":w=>s.data.completed=w,binary:!0},null,8,["modelValue","onUpdate:modelValue"]),t("span",{class:C({"line-through text-500":s.data.completed})},d(s.data.title),3)])]),_:1}),l(a(c),{field:"priority",header:"Priority",style:{width:"120px"}},{body:r(s=>[l(a(S),{value:s.data.priority,severity:A(s.data.priority)},null,8,["value","severity"])]),_:1}),l(a(c),{field:"dueDate",header:"Due Date",style:{width:"150px"}},{body:r(s=>[Z(d(J(s.data.dueDate)),1)]),_:1}),l(a(c),{field:"assignee",header:"Assignee",style:{width:"200px"}},{body:r(s=>[t("div",Me,[l(a(ee),{label:O(s.data.assignee),size:"small",shape:"circle"},null,8,["label"]),t("span",null,d(s.data.assignee),1)])]),_:1}),l(a(c),{field:"status",header:"Status",style:{width:"150px"}},{body:r(s=>[l(a(S),{value:s.data.status,severity:E(s.data.status)},null,8,["value","severity"])]),_:1}),l(a(c),{style:{width:"100px"}},{body:r(s=>[t("div",Re,[l(a(y),{icon:"pi pi-pencil",text:"",rounded:"",onClick:w=>R(s.data)},null,8,["onClick"]),l(a(y),{icon:"pi pi-trash",text:"",rounded:"",severity:"danger",onClick:w=>q(s.data)},null,8,["onClick"])])]),_:1})]),_:1},8,["value","selection","filters","loading"])])])]),l(a(le),{visible:m.value,"onUpdate:visible":e[8]||(e[8]=s=>m.value=s),header:h.value==="new"?"New Task":"Edit Task",modal:"",class:"p-fluid",style:{width:"450px"}},{footer:r(()=>[l(a(y),{label:"Cancel",icon:"pi pi-times",text:"",onClick:H}),l(a(y),{label:"Save",icon:"pi pi-check",onClick:I})]),default:r(()=>[t("div",He,[e[23]||(e[23]=t("label",{for:"title"},"Title",-1)),l(a(D),{id:"title",modelValue:i.value.title,"onUpdate:modelValue":e[2]||(e[2]=s=>i.value.title=s),modelModifiers:{trim:!0},required:"",autofocus:"",class:C({"p-invalid":f.value&&!i.value.title})},null,8,["modelValue","class"]),f.value&&!i.value.title?(V(),T("small",Ie,"Title is required.")):se("",!0)]),t("div",qe,[e[24]||(e[24]=t("label",{for:"description"},"Description",-1)),l(a(ne),{id:"description",modelValue:i.value.description,"onUpdate:modelValue":e[3]||(e[3]=s=>i.value.description=s),rows:"3"},null,8,["modelValue"])]),t("div",Fe,[t("div",Je,[e[25]||(e[25]=t("label",{for:"priority"},"Priority",-1)),l(a(k),{id:"priority",modelValue:i.value.priority,"onUpdate:modelValue":e[4]||(e[4]=s=>i.value.priority=s),options:N,optionLabel:"label",optionValue:"value",placeholder:"Select Priority"},null,8,["modelValue"])]),t("div",Oe,[e[26]||(e[26]=t("label",{for:"status"},"Status",-1)),l(a(k),{id:"status",modelValue:i.value.status,"onUpdate:modelValue":e[5]||(e[5]=s=>i.value.status=s),options:j,optionLabel:"label",optionValue:"value",placeholder:"Select Status"},null,8,["modelValue"])])]),t("div",Ae,[t("div",Ee,[e[27]||(e[27]=t("label",{for:"dueDate"},"Due Date",-1)),l(a(oe),{id:"dueDate",modelValue:i.value.dueDate,"onUpdate:modelValue":e[6]||(e[6]=s=>i.value.dueDate=s),showTime:"",hourFormat:"24"},null,8,["modelValue"])]),t("div",ze,[e[28]||(e[28]=t("label",{for:"assignee"},"Assignee",-1)),l(a(k),{id:"assignee",modelValue:i.value.assignee,"onUpdate:modelValue":e[7]||(e[7]=s=>i.value.assignee=s),options:U,optionLabel:"name",optionValue:"name",placeholder:"Select Assignee"},null,8,["modelValue"])])])]),_:1},8,["visible","header"]),l(v)],64)}}});const Ye=ie(Be,[["__scopeId","data-v-819247ea"]]);export{Ye as default};
